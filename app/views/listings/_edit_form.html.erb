<%= simple_form_for(@listing, remote: true, :html => { class: 'form-horizontal ', :multipart => true }) do |f| %>
  <%= render 'errors' %>

  <div class="rq">
    * = required field
  </div>

  <div class="tab-content">

    <div id="name" class="tab-pane active">

        <fieldset>
              <legend class="leg">Listing Name</legend>
              <div class="c_f_labels">
                <span class="custom-labels">* Name</span>
                <div id="custom-input">
                    <div class="input-group col-md-12 single_row">
                        <%= f.input :title, as: :string, label: false, error: false, input_html: { class: '', id: '', cols: '55', rows: '1', tabindex: '1', maxlength: '100', autocomplete: 'off'} %>
                    </div>
                </div>
              </div>
        </fieldset>

    </div>

    <div id="price" class="tab-pane">

        <fieldset>
              <legend class="descriptors">Price</legend>
              <div class="edit_instructions">
                <ul>
                    <li>
                      &raquo; Max $1,500 price tag
                    </li>
                    <li>
                      &raquo; Leave blank for a free listing price 
                    </li>
                </ul>
              </div>
              <div class="c_f_labels">
                <span class="custom-labels">* $</span>
                <div id="custom-input">
                    <div class="input-group col-md-12 single_row">
                        <%= f.input :price, as: :text, label: false, error: false, input_html: { class: '', id: 'listing-price', cols: '20', rows: '1', tabindex: '2', maxlength: '8', value: number_with_precision(f.object.price, precision: 2)} %>
                    </div>
                </div>
              </div>
        </fieldset>

        <fieldset>
              <legend class="descriptors">Link to Listing</legend>
              <div class="edit_instructions">
                <ul>
                    <li>
                      &raquo; Paste or type the full external url to the listing (i.e. https://livinglifefearless.co)
                    </li>
                </ul>
              </div>
              <div class="c_f_labels">
                <span class="custom-labels">* Link</span>
                <div id="custom-input">
                    <div class="input-group col-md-12">
                        <%= f.input :link, as: :url, label: false, error: false, input_html: { class: '', id: '', cols: '55', rows: '1', tabindex: '1', autocomplete: 'off' } %>
                    </div>
                </div>
              </div>
        </fieldset>

        <fieldset>
              <legend class="descriptors">Call to Action Button</legend>
              <div class="edit_instructions">
                <ul>
                    <li>
                      &raquo; Choose what your call to action button will say
                    </li>
                </ul>
              </div>
              <div id="custom-select" class="c_f_labels dr-down">
                <span class="custom-labels">* Call to Action</span>
                <%= f.input :button, collection: ['Buy Now', 'Preorder', 'Download', 'Contact Me', 'Learn More'], label: false, error: false, placeholder: 'Select a button...', input_html: { class: 'cat_select', tabindex: '4' } %>
              </div>
        </fieldset>

    </div>

    <div id="images" class="tab-pane">

      <fieldset>

        <legend class="descriptors">Feature Image/Audio</legend>
          <div class="edit_instructions">
            <ul>
                <li>
                  &raquo; Recommended dimensions of 380x380
                </li>
                <li>
                  &raquo; Maximum file size of 15MB (jpeg, png, mp3)
                </li>
            </ul>
          </div>

          <div style="margin-bottom:15px;">
            <div class="custom-file-upload fu1_wrap">
              <label for="file-upload" class="cfu_label"><i class="fa fa-arrow-up"></i>Feature Media
                <%= f.input :feature, as: :file, label: false, error: false, input_html: { id: 'file-upload', class: 'account settings pr_upload'} %>
              </label>
            </div>
            <span style="color:#898989;font-size:22px;vertical-align:middle;margin-right:20px;">OR</span>
            <span id="custom-input" style="display:inline-block;">
              <%= f.input :embed, as: :string, label: false, error: false, input_html: { class: '', id: '', rows: '1', tabindex: '5', autocomplete: 'off'}, placeholder: 'Link for YouTube, Vimeo, or Soundcloud' %>
            </span>
          </div>

          <div>

            <% if f.object.feature? && f.object.feature.content_type =~ /^image\/(png|gif|jpeg)/ %>
              <div class="e_fi">
                <%= image_tag f.object.feature.url(:form) %>
                <%= f.input :remove_feature, as: :boolean, label: "Remove?", :label_html => {:class => "cbx_lbl"} %>
              </div>
            <% end %>

            <% if f.object.feature? && f.object.feature.content_type =~ /^audio\/(mp3|mpeg|mpeg3|mpg|x-mp3|x-mpeg|x-mpeg3|x-mpegaudio|x-mpg)/ %>
              <div class="act_media_content">
                <% if f.object.cover? %>
                  <div id='med_art' style="background-image: url(<%= f.object.cover.url(:form) %>)">
                <% else %>
                  <div id='med_art' style="background-image: url('/assets/Default Audio 1.png')">
                <% end %>
                  <div class="ui360 ui360-vis lstgs">
                    <%= link_to '', f.object.feature.url %>
                  </div>
                </div>
              </div>
              <div style="margin-bottom:40px;width:100%;"><%= f.input :remove_feature, as: :boolean, label: "Remove?", :label_html => {:class => "cbx_lbl"} %></div>
            <% end %>

            <% if f.object.embed? %>
              <div class="edit_lst_emb">
                <a class="embedly-card" data-card-controls="0" data-card-width="188px" data-card-align="left" href=<%= f.object.embed %>></a>
              </div>
            <% end %>
          </div>

          <div>
            <div class="custom-file-upload fu2_wrap">
              <label for="file-upload2" class="cfu_label"><i class="fa fa-arrow-up"></i>Cover Image
                <%= f.input :cover, as: :file, label: false, error: false, input_html: { id: 'file-upload2', class: 'account settings pr_upload'} %>
              </label>
            </div>
          </div>

          <div class="">     

            <div class="act_media_content" style="text-align:left;">
              <% if f.object.cover? %>
                <%= image_tag f.object.cover.url, :class => "cv_edt" %>
                <%= f.input :remove_cover, as: :boolean, label: "Remove?", :label_html => {:class => "cbx_lbl"} %>
              <% end %>
            </div>

          </div>

      </fieldset>

      <fieldset>
        <legend class="descriptors">Additional Images</legend>
          <div class="edit_instructions">
            <ul>
                <li>
                  &raquo; Maximum file size of 10MB (jpeg, png)
                </li>
                <li>
                  &raquo; Select up to 8 images
                </li>
            </ul>
          </div>

          <div class="">

            <div class="custom-file-upload fu3_wrap">
              <label for="file-upload3" class="cfu_label ed_l"><i class="fa fa-arrow-up"></i>Browse
                <%= file_field_tag "assets[]", type: :file, multiple: true, id: 'file-upload3' %>
              </label>
            </div>

            <div class="pws_wrap">
              <%= f.simple_fields_for :assets do |asset_fields| %>
                <% unless asset_fields.object.new_record? %>
                  <div class="previews">
                    <%= image_tag asset_fields.object.asset.url(:thumb) %>
                    <div>
                      <%= asset_fields.check_box :_destroy %> <span class="rm_img">Remove?</span>
                    </div>
                  </div>
                <% end %>
              <% end %>
            </div>

          </div>

      </fieldset>

      <fieldset class="l_ban_fs">
        
        <legend class="descriptors">Listing Banner</legend>
          <div class="edit_instructions">
            <ul>
              <li>
                &raquo; Recommended banner dimensions of 1400x600
              </li>
              <li>
                &raquo; Maximum file size of 10MB
              </li>
              <li>
                &raquo; Accepted file formats: (jpeg, png)
              </li>
            </ul>
          </div>

          <div class="custom-file-upload fu4_wrap">
            <label for="file-upload4" class="cfu_label"><i class="fa fa-arrow-up"></i>Upload Banner
              <%= f.input :banner, as: :file, label: false, error: false, input_html: { id: 'file-upload4', class: 'account pr_upload'} %>
            </label>
          </div>

          <div class="edit_bn_l">
            <% if f.object.banner? %>
              <%= image_tag f.object.banner.url(:preview) %>
              <%= f.input :remove_banner, as: :boolean, label: "Remove?", :label_html => {:class => "cbx_lbl"} %>
            <% end %>
          </div>

      </fieldset>

    </div>

    <div id="basics" class="tab-pane">

      <fieldset>
        <legend class="descriptors">Choose Your Category & Tags</legend>
        <div class="edit_instructions">
          <ul>
            <li>
              &raquo; Select the appropriate category for your listing
            </li>
            <li>
              &raquo; Provide up to 5 of the most relevant tags
            </li>
            <li>
              &raquo; Comma separated, 30 characters per
            </li>
            <li>
                &raquo; Alphanumeric, no special characters
              </li>
          </ul>
        </div>
        <div id="custom-select" class="c_f_labels dr-down">
          <span class="custom-labels">* Category</span>
          <%= f.input :category, collection: ['Men\'s', 'Women\'s', 'Art', 'Music', 'Design', 'Services'], label: false, error: false, placeholder: 'Select a category...', input_html: { class: 'cat_select', tabindex: '2' } %>
        </div>

        <div id="custom-select" class="c_f_labels">
          <span class="custom-labels">* Tags</span>
          <%= f.input :marker_list, label: false, error: false, input_html: { cols: '55', rows: '1', class: 'custom-tags', tabindex: '3', autocomplete: 'off'} %>
        </div>   
      </fieldset>

      <fieldset>
        <%= f.input :description, label: 'Description', error: false, placeholder: 'Tell us about your listing...', input_html: { cols: '53', rows: '5', class: 'forms account settings', tabindex: '7', id: 'l_dscr', autocomplete: 'off' } %>
      </fieldset>

    </div>

    <div class="form-actions">
      <%= f.button :submit, class: 'btn btn-blue' %>
      <span id="spinner" class="spinner">
        <%= image_tag '/assets/ajax-loader-(7).gif', id: 'img-spinner', alt: 'Loading' %>
      </span>
      <%= link_to 'Back', @listing, class: 'btn btn-black pull-right' %>
    </div>

  </div>

<% end %>
