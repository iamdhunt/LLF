<% if upload.link =~ /^(https?\:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/ %>
	<span class="emb_cta"></span>
	<% if upload.caption? %>
		<% if upload.cover? %>
			<%= link_to image_tag(upload.cover.url(:large)), "javascript:;", :data => { :fancybox => 'gallery', :src => upload.link, :caption => Rinku.auto_link(media_with_mentions(upload)), :tags => %w(a) }, :class => 'emb_cv' %>
		<% else %>
			<%= link_to image_tag('/assets/Default-Youtube.jpg'), "javascript:;", :data => { :fancybox => 'gallery', :src => upload.link, :caption => Rinku.auto_link(media_with_mentions(upload)), :tags => %w(a) }, :class => 'emb_cv' %>
		<% end %>
	<% else %>
		<% if upload.cover? %>
			<%= link_to image_tag(upload.cover.url(:large)), "javascript:;", :data => { :fancybox => 'gallery', :src => upload.link }, :class => 'emb_cv' %>
		<% else %>
			<%= link_to image_tag('/assets/Default-Youtube.jpg'), "javascript:;", :data => { :fancybox => 'gallery', :src => upload.link }, :class => 'emb_cv' %>
		<% end %>
	<% end %>
<% elsif upload.link =~ /^(https?\:\/\/)?(www\.)?(vimeo\.com)\/.+$/ %>
	<span class="emb_cta"></span>
	<% if upload.caption? %>
		<% if upload.cover? %>
			<%= link_to image_tag(upload.cover.url(:large)), "javascript:;", :data => { :fancybox => 'gallery', :src => upload.link, :caption => Rinku.auto_link(media_with_mentions(upload)), :tags => %w(a) }, :class => 'emb_cv' %>
		<% else %>
			<%= link_to image_tag('/assets/Default-Vimeo.jpg'), "javascript:;", :data => { :fancybox => 'gallery', :src => upload.link, :caption => Rinku.auto_link(media_with_mentions(upload)), :tags => %w(a) }, :class => 'emb_cv' %>
		<% end %>
	<% else %>
		<% if upload.cover? %>
			<%= link_to image_tag(upload.cover.url(:large)), "javascript:;", :data => { :fancybox => 'gallery', :src => upload.link }, :class => 'emb_cv' %>
		<% else %>
			<%= link_to image_tag('/assets/Default-Vimeo.jpg'), "javascript:;", :data => { :fancybox => 'gallery', :src => upload.link }, :class => 'emb_cv' %>
		<% end %>
	<% end %>
<% elsif upload.link =~ /^(https?\:\/\/)?(www\.)?(soundcloud\.com)\/.+$/ %>
	<span class="emb_cta"></span>
	<% if upload.caption? %>
		<% if upload.cover? %>
			<%= link_to image_tag(upload.cover.url(:large)), "javascript:;", :data => { :fancybox => 'gallery', :src => "#hidden-content", :caption => Rinku.auto_link(media_with_mentions(upload)), :tags => %w(a) }, :class => 'emb_cv' %>
		<% else %>
			<%= link_to image_tag('/assets/Default-Soundcloud.jpg'), "javascript:;", :data => { :fancybox => 'gallery', :src => "#hidden-content", :caption => Rinku.auto_link(media_with_mentions(upload)), :tags => %w(a) }, :class => 'emb_cv' %>
		<% end %>
	<% else %>
		<% if upload.cover? %>
			<%= link_to image_tag(upload.cover.url(:large)), "javascript:;", :data => { :fancybox => 'gallery', :src => "#hidden-content" }, :class => 'emb_cv' %>
		<% else %>
			<%= link_to image_tag('/assets/Default-Soundcloud.jpg'), "javascript:;", :data => { :fancybox => 'gallery', :src => "#hidden-content" }, :class => 'emb_cv' %>
		<% end %>
	<% end %>
<% end %>


<div style="display: none;" id="hidden-content">
	<%= embed(upload.link, { width: '500px'}).html_safe %>
</div>